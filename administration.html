
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Вопросы, связанные с администрированием системы &#8212; Документация Fedora FAQ RU 2019.01.25</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/faq-icon.ico"/>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Вопросы, связанные с безопасностью" href="security.html" />
    <link rel="prev" title="Вопросы, связанные с пакетным менеджером и установкой пакетов" href="package-manager.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="_static/faq-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="administration">
<span id="id1"></span><h1>Вопросы, связанные с администрированием системы<a class="headerlink" href="#administration" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="kernelpm-once">
<span id="index-0"></span><span id="id2"></span><h2>Как однократно передать параметр ядра?<a class="headerlink" href="#kernelpm-once" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для передачи параметра необходимо в меню загрузчика Grub 2 выбрать нужную строку и нажать клавишу <strong>E</strong> на клавиатуре для перехода к её редактированию, затем в конце через пробел дописать нужный параметр (или параметры), после чего нажать <strong>Enter</strong>, чтобы начать процесс загрузки.</p>
</div>
<div class="section" id="kernelpm-perm">
<span id="index-1"></span><span id="id3"></span><h2>Как мне задать параметр ядра для постоянного использования?<a class="headerlink" href="#kernelpm-perm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо открыть с шаблонами загрузчика <strong>/etc/default/grub</strong> в любом текстовом редакторе, найти в нём переменную <strong>GRUB_CMDLINE_LINUX</strong> и внести соответствующие правки. После этого нужно пересобрать конфиг Grub 2 посредством <strong>grub2-mkconfig</strong>.</p>
</div>
<div class="section" id="kernelpm-list">
<span id="index-2"></span><span id="id4"></span><h2>Как определить какие параметры ядра заданы в настоящее время?<a class="headerlink" href="#kernelpm-list" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для получения информации о текущих параметрах ядра достаточно выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat /proc/cmdline
</pre></div>
</div>
</div>
<div class="section" id="kernel-modules-list">
<span id="index-3"></span><span id="id5"></span><h2>Как определить какие модули ядра в настоящее время загружены?<a class="headerlink" href="#kernel-modules-list" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для получения информации о загруженных модулях ядра следует применять <strong>lsmod</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsmod
</pre></div>
</div>
</div>
<div class="section" id="kernel-modules-help">
<span id="index-4"></span><span id="id6"></span><h2>Как узнать какие опциональные параметры поддерживает конкретный модуль ядра?<a class="headerlink" href="#kernel-modules-help" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для получения краткой справочной информации о поддерживаемых параметрах конкретного модуля ядра необходимо использовать <strong>modinfo</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>modinfo foo-bar
</pre></div>
</div>
<p>Здесь <strong>foo-bar</strong> - имя модуля, информацию о котором требуется вывести.</p>
</div>
<div class="section" id="journal-current">
<span id="index-5"></span><span id="id7"></span><h2>Как мне посмотреть текущий журнал работы системы?<a class="headerlink" href="#journal-current" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы посмотреть журнал работы системы с момента загрузки, нужно выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b
</pre></div>
</div>
<p>Чтобы посмотреть только журнал работы ядра (аналог dmesg):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -k
</pre></div>
</div>
</div>
<div class="section" id="journal-history">
<span id="index-6"></span><span id="id8"></span><h2>Как мне посмотреть журналы с прошлых загрузок?<a class="headerlink" href="#journal-history" title="Ссылка на этот заголовок">¶</a></h2>
<p>Вывести список всех загрузок:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl --list-boots
</pre></div>
</div>
<p>Вывести содержимое журнала загрузки с идентификатором <strong>X</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b -X
</pre></div>
</div>
</div>
<div class="section" id="journal-tofile">
<span id="index-7"></span><span id="id9"></span><h2>Как мне выгрузить журнал в файл?<a class="headerlink" href="#journal-tofile" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо перенаправить поток стандартного вывода в файл:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b &gt; ~/abc.txt
</pre></div>
</div>
<p>Также можно воспользоваться утилитой fpaste для автоматической загрузки файла на сервис <a class="reference external" href="https://paste.fedoraproject.org/">fpaste.org</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b <span class="p">|</span> fpaste
</pre></div>
</div>
<p>При успешном выполнении будет создана ссылка для быстрого доступа.</p>
</div>
<div class="section" id="chroot-liveusb">
<span id="chroot"></span><span id="index-8"></span><h2>Как сделать chroot в установленную систему с LiveUSB?<a class="headerlink" href="#chroot-liveusb" title="Ссылка на этот заголовок">¶</a></h2>
<p>Загружаемся с LiveCD/USB и запускаем эмулятор терминала или переходим в виртуальную консоль (особой разницы не имеет).</p>
<p>Для начала создадим каталог для точки монтирования:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkdir /media/fedora
</pre></div>
</div>
<p>Смонтируем корневой раздел установленной ОС:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mount -t ext4 /dev/sda1 /media/fedora
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> - раздел, на котором установлена ОС, а <strong>ext4</strong> - его файловая система. Внесём соответствующие правки если это не так.</p>
<p>Переходим в каталог с корневой ФС и монтируем ряд необходимых для работы окружения виртуальных ФС:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /media/fedora
sudo mount -t proc /proc proc
sudo mount --rbind /sys sys
sudo mount --make-rslave sys
sudo mount --rbind /dev dev
sudo mount --make-rslave dev
sudo mount -t tmpfs tmpfs tmp
</pre></div>
</div>
<p>Теперь выполняем вход в chroot:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chroot /media/fedora
</pre></div>
</div>
<p>Выполняем нужные действия, а по окончании завершаем работу chroot окружения:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">logout</span>
</pre></div>
</div>
<p>Отмонтируем раздел:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo umount /media/fedora
</pre></div>
</div>
</div>
<div class="section" id="ups-fedora">
<span id="configure-ups"></span><span id="index-9"></span><h2>Как настроить ИБП (UPS) в Fedora?<a class="headerlink" href="#ups-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2012/10/01/podnimaem-nut-v-linux.html">здесь</a>.</p>
</div>
<div class="section" id="ssh">
<span id="ssh-keys-error"></span><span id="index-10"></span><h2>При использовании SSH появляется ошибка доступа к ключам. Как исправить?<a class="headerlink" href="#ssh" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/07/31/reshaem-problemu-s-ssh-klyuchami-v-fedora-24.html">здесь</a>.</p>
</div>
<div class="section" id="journald-limit">
<span id="index-11"></span><span id="id10"></span><h2>Системные журналы занимают слишком много места. Как их ограничить?<a class="headerlink" href="#journald-limit" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/08/24/ogranichivaem-sistemnye-zhurnaly-v-fedora-24.html">здесь</a>.</p>
</div>
<div class="section" id="firewalld-port-forwarding">
<span id="index-12"></span><span id="id11"></span><h2>Как пробросить локальный порт на удалённый хост?<a class="headerlink" href="#firewalld-port-forwarding" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/05/23/probrasyvaem-lokalnyj-port-na-udalyonnyj-xost.html">здесь</a>.</p>
</div>
<div class="section" id="openvpn-fedora">
<span id="using-openvpn"></span><span id="index-13"></span><h2>Как поднять OpenVPN сервер в Fedora?<a class="headerlink" href="#openvpn-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/07/24/podnimaem-ovn-server-na-fedora.html">здесь</a>. В данной статье вместо <strong>ovn</strong> следует использовать <strong>openvpn</strong> во всех путях и именах юнитов.</p>
</div>
<div class="section" id="systemd">
<span id="systemd-info"></span><span id="index-14"></span><h2>Что такое systemd и как с ним работать?<a class="headerlink" href="#systemd" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/11/05/upravlyaem-systemd-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="matrix-fedora">
<span id="matrix-server"></span><span id="index-15"></span><h2>Как поднять свой сервер Matrix в Fedora?<a class="headerlink" href="#matrix-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2018/04/15/podnimaem-sobstvennyj-matrix-server-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="drop-fs-caches">
<span id="index-16"></span><span id="id12"></span><h2>Как очистить кэши и буферы всех файловых систем?<a class="headerlink" href="#drop-fs-caches" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы очистить кэши и буферы нужно выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sync <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="m">3</span> &gt; /proc/sys/vm/drop_caches <span class="o">&amp;&amp;</span> sync
</pre></div>
</div>
</div>
<div class="section" id="utc">
<span id="system-time-utc"></span><span id="index-17"></span><h2>Как настроить системные часы в UTC или локального времени и наоборот?<a class="headerlink" href="#utc" title="Ссылка на этот заголовок">¶</a></h2>
<p>Переключение аппаратных часов компьютера в UTC из localtime:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo timedatectl set-local-rtc no
</pre></div>
</div>
<p>Переключение аппаратных часов компьютера в localtime из UTC:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo timedatectl set-local-rtc yes
</pre></div>
</div>
</div>
<div class="section" id="fedora-windows">
<span id="windows-utc"></span><span id="index-18"></span><h2>У меня в дуалбуте с Fedora установлена Windows и часы постоянно сбиваются. В чём дело?<a class="headerlink" href="#fedora-windows" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы такого не происходило, обе операционные системы должны хранить время в формате UTC. Для этого в Windows нужно применить следующий файл реестра:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]
&quot;RealTimeIsUniversal&quot;=dword:00000001
</pre></div>
</div>
</div>
<div class="section" id="fedora">
<span id="simple-web-server"></span><span id="index-19"></span><h2>Как запустить простейший веб-сервер в Fedora?<a class="headerlink" href="#fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для запуска простейшего веб-сервера можно использовать Python и модуль, входящий в состав базового пакета:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m http.server <span class="m">8080</span>
</pre></div>
</div>
<p>Веб-сервер будет запущен на порту <strong>8080</strong>. В качестве webroot будет использоваться текущий рабочий каталог.</p>
</div>
<div class="section" id="change-hostname">
<span id="index-20"></span><span id="id13"></span><h2>Как изменить имя хоста?<a class="headerlink" href="#change-hostname" title="Ссылка на этот заголовок">¶</a></h2>
<p>Изменение имени хоста возможно посредством <strong>hostnamectl</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hostnamectl set-hostname NEW
</pre></div>
</div>
<p>Здесь вместо <strong>NEW</strong> следует указать новое значение. Изменения вступят в силу немедленно.</p>
</div>
<div class="section" id="network-configuration">
<span id="index-21"></span><span id="id14"></span><h2>Как лучше настраивать сетевые подключения?<a class="headerlink" href="#network-configuration" title="Ссылка на этот заголовок">¶</a></h2>
<p>В Fedora для настройки сети используется Network Manager. Для работы с ним доступны как графические менеджеры (встроены в каждую DE), так и консольный <strong>nm-cli</strong>.</p>
</div>
<div class="section" id="lvm-liveusb">
<span id="fs-check-lvm"></span><span id="index-22"></span><h2>Как мне проверить ФС в составе LVM с LiveUSB?<a class="headerlink" href="#lvm-liveusb" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если файловая система была повреждена, необходимо запустить <strong>fsck</strong> и разрешить ему исправить её. При использовании настроек по умолчанию (LVM, ФС ext4) это делается так:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck -t ext4 /dev/mapper/fedora-root
fsck -t ext4 /dev/mapper/fedora-home
</pre></div>
</div>
<p>Если вместо ext4 применяется другая файловая система, необходимо указать её после параметра <strong>-t</strong>.</p>
</div>
<div class="section" id="liveusb">
<span id="fs-check-partitions"></span><span id="index-23"></span><h2>Как мне проверить ФС при использовании классических разделов с LiveUSB?<a class="headerlink" href="#liveusb" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если используется классическая схема с обычными разделами, то утилите <strong>fsck</strong> необходимо передавать соответствующее блочное устройство, например:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck -t ext4 /dev/sda2
fsck -t ext4 /dev/sda3
</pre></div>
</div>
<p>Если вместо <strong>ext4</strong> применяется другая файловая система, необходимо указать её после параметра <strong>-t</strong>. Также вместо <strong>/dev/sda2</strong> следует прописать соответствующее блочное устройство с повреждённой ФС.</p>
<p>Полный список доступных устройств хранения данных можно получить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo fdisk -l
</pre></div>
</div>
</div>
<div class="section" id="luks-liveusb">
<span id="fs-check-luks"></span><span id="index-24"></span><h2>Как мне проверить ФС на зашифрованном LUKS разделе с LiveUSB?<a class="headerlink" href="#luks-liveusb" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если используются зашифрованные LUKS разделы, то сначала откроем соответствующее устройство:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cryptsetup luksOpen /dev/sda2 luks-root
</pre></div>
</div>
<p>Здесь вместо <strong>/dev/sda2</strong> следует прописать соответствующее блочное устройство зашифрованного накопителя.</p>
<p>Теперь запустим проверку файловой системы:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck -t ext4 /dev/mapper/luks-root
</pre></div>
</div>
<p>Если вместо <strong>ext4</strong> применяется другая файловая система, необходимо указать её после параметра <strong>-t</strong>.</p>
<p>По окончании обязательно отключим LUKS том:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cryptsetup luksClose /dev/mapper/luks-root
</pre></div>
</div>
</div>
<div class="section" id="dlna">
<span id="dlna-server"></span><span id="index-25"></span><h2>Как поднять DLNA сервер в локальной сети?<a class="headerlink" href="#dlna" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2018/09/08/podnimaem-dlna-server-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="deduplication-memory">
<span id="index-26"></span><span id="id15"></span><h2>Возможна ли полная дедупликация оперативной памяти?<a class="headerlink" href="#deduplication-memory" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, дедупликация памяти <a class="reference external" href="https://www.ibm.com/developerworks/linux/library/l-kernel-shared-memory/index.html">поддерживается</a> в ядре Linux начиная с версии 2.6.32 модулем <a class="reference external" href="https://ru.wikipedia.org/wiki/KSM">KSM</a> и по умолчанию применяется лишь в системах виртуализации, например в <a class="reference internal" href="package-manager.html#kvm"><span class="std std-ref">KVM</span></a>.</p>
</div>
<div class="section" id="deduplication-disk">
<span id="index-27"></span><span id="id16"></span><h2>Возможна ли полная дедупликация данных на дисках?<a class="headerlink" href="#deduplication-disk" title="Ссылка на этот заголовок">¶</a></h2>
<p>Полная автоматическая дедупликация данных на дисках <a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/Deduplication">поддерживается</a> лишь файловой системой <a class="reference internal" href="using-system.html#fs-btrfs"><span class="std std-ref">BTRFS</span></a>.</p>
</div>
<div class="section" id="memory-compression">
<span id="index-28"></span><span id="id17"></span><h2>Можно ли включить сжатие оперативной памяти?<a class="headerlink" href="#memory-compression" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, в ядро Linux начиная с версии 3.14 по умолчанию входит модуль zram, который позволяет увеличить производительность системы посредством использования вместо дисковой подкачки виртуального устройства в оперативной памяти с активным сжатием.</p>
<p>Включение zram в Fedora:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl <span class="nb">enable</span> --now zram-swap
</pre></div>
</div>
<p>Отключение zram в Fedora:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl stop zram-swap
sudo systemctl disable zram-swap
</pre></div>
</div>
<p>После использования вышеуказанных команд рекомендуется выполнить перезагрузку системы.</p>
</div>
<div class="section" id="fedora-iperf">
<span id="index-29"></span><span id="id18"></span><h2>Как сделать замеры скорости локальной или беспроводной сети?<a class="headerlink" href="#fedora-iperf" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для точных замеров производительности сети нам потребуется как минимум два компьютера (либо компьютер и мобильное устройство), а также утилита iperf, присутствующая в репозиториях Fedora. Установим её:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install iperf2
</pre></div>
</div>
<p>На первом устройстве запустим сервер iperf:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>iperf -s
</pre></div>
</div>
<p>По умолчанию iperf прослушивает порт <strong>5001/tcp</strong> на всех доступных сетевых соединениях.</p>
<p>Теперь временно разрешим входящие соединения на данный порт посредством <a class="reference internal" href="security.html#firewalld-about"><span class="std std-ref">Firewalld</span></a> (правило будет действовать до перезагрузки):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --add-port<span class="o">=</span><span class="m">5001</span>/tcp
</pre></div>
</div>
<p>На втором устройстве запустим клиент и подключимся к серверу:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>iperf -c 192.168.1.2
</pre></div>
</div>
<p>В качестве клиента может выступать и мобильное устройство на базе ОС Android с установленным <a class="reference external" href="https://play.google.com/store/apps/details?id=net.he.networktools">Network Tools</a>. В этом случае в главном меню программы следует выбрать пункт <strong>Iperf2</strong>, а в окне подключения ввести:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-c 192.168.1.2
</pre></div>
</div>
<p>Параметр <strong>-c</strong> обязателен. Если он не указан, программа выдаст ошибку.</p>
<p><strong>192.168.1.2</strong> - это внутренний IP-адрес устройства в ЛВС, на котором запущен сервер. Номер порта указывать не требуется.</p>
</div>
<div class="section" id="sysctl">
<span id="sysctl-temporary"></span><span id="index-30"></span><h2>Как временно изменить параметр sysctl?<a class="headerlink" href="#sysctl" title="Ссылка на этот заголовок">¶</a></h2>
<p>Временно установить любой параметр ядра возможно через sysctl:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo sysctl -w foo.bar<span class="o">=</span>X
</pre></div>
</div>
<p>Здесь <strong>foo.bar</strong> имя параметра, а <strong>X</strong> - его значение. Изменения вступят в силу немедленно и сохранятся до перезагрузки системы.</p>
</div>
<div class="section" id="sysctl-permanent">
<span id="index-31"></span><span id="id19"></span><h2>Как задать и сохранить параметр sysctl?<a class="headerlink" href="#sysctl-permanent" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы сохранить параметр ядра, создадим специальный файл <strong>99-foobar.conf</strong> в каталоге <strong>/etc/sysctl.d</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>foo.bar1=X1
foo.bar2=X2
</pre></div>
</div>
<p>Каждый параметр должен быть указан с новой строки. Здесь <strong>foo.bar</strong> имя параметра, а <strong>X</strong> - его значение.</p>
<p>Для вступления изменений в силу требуется перезагрузка:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl reboot
</pre></div>
</div>
</div>
<div class="section" id="sysctl-order">
<span id="index-32"></span><span id="id20"></span><h2>В каком порядке загружаются sysctl файлы настроек?<a class="headerlink" href="#sysctl-order" title="Ссылка на этот заголовок">¶</a></h2>
<p>При загрузке ядро проверяет следующие каталоги в поисках <strong>.conf</strong> файлов:</p>
<blockquote>
<div><ol class="arabic simple">
<li><strong>/usr/lib/sysctl.d</strong> - предустановленные конфиги системы и определённых пакетов;</li>
<li><strong>/run/sysctl.d</strong> - различные конфиги, сгенерированные в рантайме;</li>
<li><strong>/etc/sysctl.d</strong> - пользовательские конфиги.</li>
</ol>
</div></blockquote>
<p>Порядок выполнения - в алфавитном порядке, поэтому для его изменения многие конфиги содержат цифры и буквы. Например конфиг <strong>00-foobar.conf</strong> выполнится раньше, чем <strong>zz-foobar.conf</strong>.</p>
</div>
<div class="section" id="configure-runlevel">
<span id="index-33"></span><span id="id21"></span><h2>Как переключить запуск системы в текстовый режим и обратно?<a class="headerlink" href="#configure-runlevel" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы активировать запуск Fedora в текстовом режиме, нужно переключиться на цель <strong>multi-user.target</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl set-default multi-user.target
</pre></div>
</div>
<p>Чтобы активировать запуск в графическом режиме, необходимо убедиться в том, что установлен какой-либо менеджер графического входа в систему (GDM, SDDM, LightDM и т.д.), а затем переключиться на цель <strong>graphical.target</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl set-default graphical.target
</pre></div>
</div>
<p>Определить используемый в настоящее время режим можно так:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl get-default
</pre></div>
</div>
<p>Изменения вступят в силу лишь после перезапуска системы:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl reboot
</pre></div>
</div>
</div>
<div class="section" id="swap-to-file">
<span id="index-34"></span><span id="id22"></span><h2>Как настроить подкачку в файл в Fedora?<a class="headerlink" href="#swap-to-file" title="Ссылка на этот заголовок">¶</a></h2>
<p>Создадим файл подкачки на 4 ГБ:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/media/pagefile <span class="nv">count</span><span class="o">=</span><span class="m">4096</span> <span class="nv">bs</span><span class="o">=</span>1M
</pre></div>
</div>
<p>Установим правильный chmod:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chmod <span class="m">600</span> /media/pagefile
</pre></div>
</div>
<p>Подготовим swapfs к работе:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkswap /media/pagefile
</pre></div>
</div>
<p>Активируем файл подкачки:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swapon /media/pagefile
</pre></div>
</div>
<p>Для того, чтобы подкачка подключалась автоматически при загрузке системы, откроем файл <strong>/etc/fstab</strong> и добавим в него следующую строку:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/media/pagefile    none    swap    sw    0    0
</pre></div>
</div>
<p>Действия вступят в силу немедленно.</p>
</div>
<div class="section" id="rsync-remote">
<span id="index-35"></span><span id="id23"></span><h2>Как передать содержимое каталога на удалённый сервер?<a class="headerlink" href="#rsync-remote" title="Ссылка на этот заголовок">¶</a></h2>
<p>Передача содержимого локального каталога на удалённый сервер посредством rsync:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync -chavzP --stats /path/to/local user@example.org:/path/to/remote
</pre></div>
</div>
<p>Здесь <strong>user&#64;example.org</strong> - данные для подключения к серверу, т.е. имя пользователя на удалённом сервере и хост.</p>
</div>
<div class="section" id="rsync-local">
<span id="index-36"></span><span id="id24"></span><h2>Как получить содержимое каталога с удалённого сервера?<a class="headerlink" href="#rsync-local" title="Ссылка на этот заголовок">¶</a></h2>
<p>Получение содержимого каталога с удалённого сервера посредством rsync:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync -chavzP --stats user@example.org:/path/to/remote /path/to/local
</pre></div>
</div>
<p>Здесь <strong>user&#64;example.org</strong> - данные для подключения к серверу, т.е. имя пользователя на удалённом сервере и хост.</p>
</div>
<div class="section" id="disk-usage">
<span id="index-37"></span><span id="id25"></span><h2>Как узнать какой процесс осуществляет запись на диск?<a class="headerlink" href="#disk-usage" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для мониторинга дисковой активности существуют улититы <strong>iotop</strong> и <strong>fatrace</strong>. Установим их:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install iotop fatrace
</pre></div>
</div>
<p>Запустим iotop в режиме накопления показаний:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo iotop -a
</pre></div>
</div>
<p>Запустим fatrace в режиме накопления с выводом лишь информации о событиях записи на диск:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo fatrace -f W
</pre></div>
</div>
<p>Запустим fatrace в режиме накопления с выводом информации о событиях записи на диск в файл в течение 10 минут (600 секунд):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo fatrace -f W -o ~/disk-usage.log -s <span class="m">600</span>
</pre></div>
</div>
</div>
<div class="section" id="change-label">
<span id="index-38"></span><span id="id26"></span><h2>Как сменить метку раздела?<a class="headerlink" href="#change-label" title="Ссылка на этот заголовок">¶</a></h2>
<p>Смена метки раздела с файловой системой ext2, ext3 и ext4:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo e2label /dev/sda1 <span class="s2">&quot;NewLabel&quot;</span>
</pre></div>
</div>
<p>Смена метки раздела с файловой системой XFS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo xfs_admin -L <span class="s2">&quot;NewLabel&quot;</span> /dev/sda1
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> - раздел, на котором требуется изменить метку.</p>
</div>
<div class="section" id="uuid">
<span id="get-uuid"></span><span id="index-39"></span><h2>Как получить UUID всех смонтированных разделов?<a class="headerlink" href="#uuid" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для получения всех UUID можно использовать утилиту <strong>blkid</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo blkid
</pre></div>
</div>
<p>Вывод UUID для указанного раздела:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo blkid /dev/sda1
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> - раздел, для которого требуется вывести UUID.</p>
</div>
<div class="section" id="change-uuid">
<span id="index-40"></span><span id="id27"></span><h2>Как изменить UUID раздела?<a class="headerlink" href="#change-uuid" title="Ссылка на этот заголовок">¶</a></h2>
<p>Смена UUID раздела с файловой системой ext2, ext3 и ext4:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo tune2fs /dev/sda1 -U <span class="k">$(</span>uuidgen<span class="k">)</span>
</pre></div>
</div>
<p>Смена UUID раздела с файловой системой XFS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo xfs_admin -U generate /dev/sda1
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> - раздел, на котором требуется изменить UUID.</p>
</div>
<div class="section" id="dns-fedora">
<span id="change-dns"></span><span id="index-41"></span><h2>Как правильно указать DNS серверы в Fedora?<a class="headerlink" href="#dns-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для того, чтобы указать другие DNS серверы, необходимо использовать Network Manager (графический или консольный): <strong>свойства соединения</strong> -&gt; страница <strong>IPv4</strong> -&gt; <strong>другие DNS серверы</strong>.</p>
</div>
<div class="section" id="etc-resolv-conf-fedora">
<span id="dns-resolv"></span><span id="index-42"></span><h2>Можно ли править файл /etc/resolv.conf в Fedora?<a class="headerlink" href="#etc-resolv-conf-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Нет, т.к. этот файл целиком управляется Network Manager и перезаписывается при каждом изменении статуса подключения (активация-деактивация соединений, перезапуск сервиса и т.д.).</p>
<p>Если необходимо указать другие DNS серверы, это следует производить через <a class="reference internal" href="#change-dns"><span class="std std-ref">свойства</span></a> соответствующего соединения.</p>
</div>
<div class="section" id="firewalld-icmp">
<span id="disable-icmp"></span><span id="index-43"></span><h2>Как можно средствами Firewalld запретить ICMP?<a class="headerlink" href="#firewalld-icmp" title="Ссылка на этот заголовок">¶</a></h2>
<p>По умолчанию ICMP трафик разрешён для большей части зон, поэтому запретить его можно вручную:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --zone<span class="o">=</span>public --remove-icmp-block<span class="o">={</span>echo-request,echo-reply,timestamp-reply,timestamp-request<span class="o">}</span> --permanent
</pre></div>
</div>
<p>Применим новые правила:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --reload
</pre></div>
</div>
<p>В данном примере для зоны <strong>public</strong> блокируются как входящие, так и исходящие ICMP ECHO и ICMP TIMESTAMP.</p>
</div>
<div class="section" id="firewalld-openvpn-ip">
<span id="openvpn-allowed-ips"></span><span id="index-44"></span><h2>Как средствами Firewalld разрешить подключение к OpenVPN серверу только с разрешённых IP адресов?<a class="headerlink" href="#firewalld-openvpn-ip" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сначала отключим правило по умолчанию для <a class="reference internal" href="#using-openvpn"><span class="std std-ref">OpenVPN</span></a>, разрешающее доступ к серверу с любых IP адресов:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --zone<span class="o">=</span>public --remove-service openvpn --permanent
</pre></div>
</div>
<p>Теперь создадим rich rule, разрешающее доступ с указанных IP-адресов (или подсетей):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --zone<span class="o">=</span>public --add-rich-rule<span class="o">=</span><span class="s1">&#39;rule family=ipv4 source address=&quot;1.2.3.4&quot; service name=&quot;openvpn&quot; accept&#39;</span> --permanent
sudo firewall-cmd --zone<span class="o">=</span>public --add-rich-rule<span class="o">=</span><span class="s1">&#39;rule family=ipv4 source address=&quot;5.6.7.0/24&quot; service name=&quot;openvpn&quot; accept&#39;</span> --permanent
</pre></div>
</div>
<p>Применим новые правила:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --reload
</pre></div>
</div>
<p>Здесь <strong>public</strong> - имя зоны для публичного интерфейса, <strong>1.2.3.4</strong> - IP-адрес, а <strong>5.6.7.0/24</strong> - подсеть, доступ для адресов из которой следует разрешить.</p>
</div>
<div class="section" id="ip-nat">
<span id="get-external-ip"></span><span id="index-45"></span><h2>Как узнать внешний IP адрес за NAT провайдера?<a class="headerlink" href="#ip-nat" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для этой цели можно использовать внешний сервис, возвращающий только внешний IP и утилиту <strong>curl</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl https://ifconfig.me
</pre></div>
</div>
</div>
<div class="section" id="pid">
<span id="get-pid"></span><span id="index-46"></span><h2>Как получить PID запущенного процесса?<a class="headerlink" href="#pid" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для получения идентификатора запущенного процесса (PID), следует применять утилиту <strong>pidof</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pidof foo-bar
</pre></div>
</div>
<p>Здесь вместо <strong>foo-bar</strong> следует указать имя образа процесса, информацию о котором требуется получить.</p>
</div>
<div class="section" id="kill-sigterm">
<span id="index-47"></span><span id="id28"></span><h2>Как правильно завершить работу процесса?<a class="headerlink" href="#kill-sigterm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для того, чтобы завершить работу процесса, необходимо отправить ему сигнал <strong>SIGTERM</strong>. После получения данного сигнала процесс должен немедленно начать завершение своей работы:</p>
<blockquote>
<div><ul class="simple">
<li>остановить активные потоки;</li>
<li>сообщить порождённым им процессам (потомкам) о том, что он завершает свою работу;</li>
<li>закрыть все открытые процессом дескрипторы;</li>
<li>освободить все занятые процессом ресурсы;</li>
<li>вернуть управление операционной системе.</li>
</ul>
</div></blockquote>
<p>Чтобы отправить сигнал SIGTERM процессу с определённым <a class="reference internal" href="#get-pid"><span class="std std-ref">PID</span></a>, воспользуемся утилитой <strong>kill</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span> -15 XXXX
</pre></div>
</div>
<p>Здесь <strong>XXXX</strong> - PID нужного процесса.</p>
<p>Вместо явного указания PID процесса существует возможность завершить работу процесса с указанным именем посредством <strong>killall</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>killall -15 foo-bar
</pre></div>
</div>
<p>Здесь вместо <strong>foo-bar</strong> следует указать имя образа процесса, который требуется завершить, однако её следует применять с особой осторожностью ибо если существует несколько процессов с одинаковым названием, все они будут завершены.</p>
</div>
<div class="section" id="kill-sigkill">
<span id="index-48"></span><span id="id29"></span><h2>Как принудительно завершить работу процесса?<a class="headerlink" href="#kill-sigkill" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если какой-либо процесс завис и не отвечает на требование завершения посредством <a class="reference internal" href="#kill-sigterm"><span class="std std-ref">SIGTERM</span></a>, можно заставить операционную систему принудительно завершить его работу сигналом <strong>SIGKILL</strong>, который не может быть перехвачен и проигнорирован процессом.</p>
<p>Данный сигнал следует использовать с особой осторожностью, т.к. в этом случае процесс не сможет корректно освободить все дескрипторы и занятые ресурсы, а также сообщить своим потомкам о своём завершении, что может повлечь за собой появление т.н. <a class="reference internal" href="#process-orphan"><span class="std std-ref">процессов-сирот</span></a>.</p>
<p>Чтобы отправить сигнал SIGKILL процессу с определённым <a class="reference internal" href="#get-pid"><span class="std std-ref">PID</span></a>, воспользуемся утилитой <strong>kill</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span> -9 XXXX
</pre></div>
</div>
<p>Здесь <strong>XXXX</strong> - PID нужного процесса.</p>
<p>Вместо явного указания PID процесса существует возможность завершить работу процесса с указанным именем посредством <strong>killall</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>killall -9 foo-bar
</pre></div>
</div>
<p>Здесь вместо <strong>foo-bar</strong> следует указать имя образа процесса. Если существует несколько процессов с одинаковым названием, все они будут завершены.</p>
</div>
<div class="section" id="process-zombie">
<span id="index-49"></span><span id="id30"></span><h2>Что такое процесс-зомби?<a class="headerlink" href="#process-zombie" title="Ссылка на этот заголовок">¶</a></h2>
<p>Процессы-зомби появляются в системе если потомок завершил свою работу раньше родительского процесса, а последний не отрегировал на отправленный ему сигнал <strong>SIGCHLD</strong>.</p>
<p>Такие процессы не занимают ресурсов в системе (ибо успешно завершили свою работу), за исключением строки в таблице процессов, хранящей его <a class="reference internal" href="#get-pid"><span class="std std-ref">PID</span></a>.</p>
<p>Все зомби будут автоматически удалены из таблицы процессов после того, как завершит свою работу их родитель.</p>
</div>
<div class="section" id="process-orphan">
<span id="index-50"></span><span id="id31"></span><h2>Что такое процесс-сирота?<a class="headerlink" href="#process-orphan" title="Ссылка на этот заголовок">¶</a></h2>
<p>Процессы-сироты появляются в системе если их родитель был аварийно уничтожен системой сигналом <a class="reference internal" href="#kill-sigkill"><span class="std std-ref">SIGKILL</span></a> и не смог сообщить своим потомкам о своём завершении работы.</p>
<p>В отличие от <a class="reference internal" href="#process-zombie"><span class="std std-ref">зомби</span></a>, такие процессы расходуют ресурсы системы и могут быть источником множества проблем.</p>
<p>При обнаружении таких процессов система выполняет операцию переподчинения и устанавливает их родителем главный процесс инициализации.</p>
</div>
<div class="section" id="firewalld-ip-cloudflare">
<span id="firewalld-cloudflare"></span><span id="index-51"></span><h2>Как средствами Firewalld разрешить подключение к веб-серверу только с IP адресов CloudFlare?<a class="headerlink" href="#firewalld-ip-cloudflare" title="Ссылка на этот заголовок">¶</a></h2>
<p>При использовании CloudFlare в качестве системы защиты от DDoS атак, а также WAF, возникает необходимость разрешать входящие подключения исключительно с IP адресов данного сервиса.</p>
<p>Сначала отключим правило по умолчанию для веб-сервера, разрешающее доступ с любых IP адресов:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --zone<span class="o">=</span>public --remove-service http --permanent
sudo firewall-cmd --zone<span class="o">=</span>public --remove-service https --permanent
</pre></div>
</div>
<p>Напишем небольшой скрипт <strong>foo-bar.sh</strong>, который получит актуальные пулы IP-адресов и создаст rich rule, разрешающие доступ лишь с подсетей CloudFlare (<a class="reference external" href="https://www.cloudflare.com/ips-v4">IPv4</a>, <a class="reference external" href="https://www.cloudflare.com/ips-v6">IPv6</a>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">set</span> -ef

<span class="nv">API</span><span class="o">=</span>https://www.cloudflare.com/ips-v
<span class="nv">ZONE</span><span class="o">=</span>public

<span class="k">function</span> fw_add <span class="o">{</span>
    <span class="nb">local</span> <span class="nv">IFS</span><span class="o">=</span><span class="s1">$&#39;\n&#39;</span>
    <span class="nb">local</span> <span class="nv">lines</span><span class="o">=(</span><span class="k">$(</span>curl -sS <span class="nv">$API$1</span><span class="k">)</span><span class="o">)</span>
    <span class="k">for</span> i in <span class="s2">&quot;</span><span class="si">${</span><span class="nv">lines</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">do</span>
        firewall-cmd --zone<span class="o">=</span><span class="nv">$ZONE</span> --add-rich-rule<span class="o">=</span><span class="s2">&quot;rule family=ipv</span><span class="nv">$1</span><span class="s2"> source address=\&quot;</span><span class="nv">$i</span><span class="s2">\&quot; service name=\&quot;http\&quot; accept&quot;</span> --permanent
        firewall-cmd --zone<span class="o">=</span><span class="nv">$ZONE</span> --add-rich-rule<span class="o">=</span><span class="s2">&quot;rule family=ipv</span><span class="nv">$1</span><span class="s2"> source address=\&quot;</span><span class="nv">$i</span><span class="s2">\&quot; service name=\&quot;https\&quot; accept&quot;</span> --permanent
    <span class="k">done</span>
<span class="o">}</span>

fw_add <span class="m">4</span>
fw_add <span class="m">6</span>
</pre></div>
</div>
<p>Запустим наш скрипт:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ./foo-bar.sh
</pre></div>
</div>
<p>Применим новые правила файрвола:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo firewall-cmd --reload
</pre></div>
</div>
<p>Здесь <strong>public</strong> - имя зоны для публичного сетевого интерфейса.</p>
</div>
<div class="section" id="ip-cloudflare">
<span id="cloudflare-forwarding"></span><span id="index-52"></span><h2>Как пробросить IP адреса клиентов за CloudFlare?<a class="headerlink" href="#ip-cloudflare" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2013/08/12/nastraivaem-probros-ip-klientov-za-cloudflare.html">здесь</a>.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Навигация</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="generic-info.html">Основная информация</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Вопросы, связанные с установкой системы</a></li>
<li class="toctree-l1"><a class="reference internal" href="package-manager.html">Вопросы, связанные с пакетным менеджером и установкой пакетов</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Вопросы, связанные с администрированием системы</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#kernelpm-once">Как однократно передать параметр ядра?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kernelpm-perm">Как мне задать параметр ядра для постоянного использования?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kernelpm-list">Как определить какие параметры ядра заданы в настоящее время?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kernel-modules-list">Как определить какие модули ядра в настоящее время загружены?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kernel-modules-help">Как узнать какие опциональные параметры поддерживает конкретный модуль ядра?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#journal-current">Как мне посмотреть текущий журнал работы системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#journal-history">Как мне посмотреть журналы с прошлых загрузок?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#journal-tofile">Как мне выгрузить журнал в файл?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chroot-liveusb">Как сделать chroot в установленную систему с LiveUSB?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ups-fedora">Как настроить ИБП (UPS) в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssh">При использовании SSH появляется ошибка доступа к ключам. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#journald-limit">Системные журналы занимают слишком много места. Как их ограничить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firewalld-port-forwarding">Как пробросить локальный порт на удалённый хост?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#openvpn-fedora">Как поднять OpenVPN сервер в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#systemd">Что такое systemd и как с ним работать?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matrix-fedora">Как поднять свой сервер Matrix в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drop-fs-caches">Как очистить кэши и буферы всех файловых систем?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utc">Как настроить системные часы в UTC или локального времени и наоборот?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-windows">У меня в дуалбуте с Fedora установлена Windows и часы постоянно сбиваются. В чём дело?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora">Как запустить простейший веб-сервер в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-hostname">Как изменить имя хоста?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#network-configuration">Как лучше настраивать сетевые подключения?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lvm-liveusb">Как мне проверить ФС в составе LVM с LiveUSB?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#liveusb">Как мне проверить ФС при использовании классических разделов с LiveUSB?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#luks-liveusb">Как мне проверить ФС на зашифрованном LUKS разделе с LiveUSB?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dlna">Как поднять DLNA сервер в локальной сети?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deduplication-memory">Возможна ли полная дедупликация оперативной памяти?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deduplication-disk">Возможна ли полная дедупликация данных на дисках?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memory-compression">Можно ли включить сжатие оперативной памяти?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-iperf">Как сделать замеры скорости локальной или беспроводной сети?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sysctl">Как временно изменить параметр sysctl?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sysctl-permanent">Как задать и сохранить параметр sysctl?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sysctl-order">В каком порядке загружаются sysctl файлы настроек?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-runlevel">Как переключить запуск системы в текстовый режим и обратно?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#swap-to-file">Как настроить подкачку в файл в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rsync-remote">Как передать содержимое каталога на удалённый сервер?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rsync-local">Как получить содержимое каталога с удалённого сервера?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disk-usage">Как узнать какой процесс осуществляет запись на диск?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-label">Как сменить метку раздела?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uuid">Как получить UUID всех смонтированных разделов?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-uuid">Как изменить UUID раздела?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dns-fedora">Как правильно указать DNS серверы в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#etc-resolv-conf-fedora">Можно ли править файл /etc/resolv.conf в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firewalld-icmp">Как можно средствами Firewalld запретить ICMP?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firewalld-openvpn-ip">Как средствами Firewalld разрешить подключение к OpenVPN серверу только с разрешённых IP адресов?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ip-nat">Как узнать внешний IP адрес за NAT провайдера?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pid">Как получить PID запущенного процесса?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kill-sigterm">Как правильно завершить работу процесса?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kill-sigkill">Как принудительно завершить работу процесса?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#process-zombie">Что такое процесс-зомби?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#process-orphan">Что такое процесс-сирота?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firewalld-ip-cloudflare">Как средствами Firewalld разрешить подключение к веб-серверу только с IP адресов CloudFlare?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ip-cloudflare">Как пробросить IP адреса клиентов за CloudFlare?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Вопросы, связанные с безопасностью</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-system.html">Вопросы, связанные с работой в системе</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Вопросы, связанные с использованием различного оборудования</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Вопросы, связанные с разработкой и сборкой пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips-and-tricks.html">Вопросы, связанные с оптимизацией и тонкой настройкой</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal-info.html">Правовая информация</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="package-manager.html" title="предыдущая глава">Вопросы, связанные с пакетным менеджером и установкой пакетов</a></li>
      <li>Next: <a href="security.html" title="следующая глава">Вопросы, связанные с безопасностью</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018 - 2019, EasyCoding Team and contributors.
      
    </div>

    
    <a href="https://github.com/RussianFedora/FAQ" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/forkme_right_green.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>