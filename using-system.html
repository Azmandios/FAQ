
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Вопросы, связанные с работой в системе и администрированием &#8212; Документация Fedora FAQ RU 2018.10.25</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="prev" title="Вопросы, связанные с безопасностью" href="security.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-system">
<span id="id1"></span><h1>Вопросы, связанные с работой в системе и администрированием<a class="headerlink" href="#using-system" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="autocompletion">
<span id="index-0"></span><span id="id2"></span><h2>У меня в системе не работает автодополнение команд. Как исправить?<a class="headerlink" href="#autocompletion" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо установить пакет sqlite:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install sqlite
</pre></div>
</div>
<p>При определённых условиях он может не быть установлен и из-за этого система автоматического дополнения команд может перестать функционировать.</p>
</div>
<div class="section" id="kernelpm-once">
<span id="index-1"></span><span id="id3"></span><h2>Как однократно передать параметр ядра?<a class="headerlink" href="#kernelpm-once" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для передачи параметра необходимо в меню загрузчика Grub 2 выбрать нужную строку и нажать клавишу <strong>E</strong> на клавиатуре для перехода к её редактированию, затем в конце через пробел дописать нужный параметр (или параметры), после чего нажать <strong>Enter</strong>, чтобы начать процесс загрузки.</p>
</div>
<div class="section" id="kernelpm-perm">
<span id="index-2"></span><span id="id4"></span><h2>Как мне задать параметр ядра для постоянного использования?<a class="headerlink" href="#kernelpm-perm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо открыть с шаблонами загрузчика <strong>/etc/default/grub</strong> в любом текстовом редакторе, найти в нём переменную <strong>GRUB_CMDLINE_LINUX</strong> и внести соответствующие правки. После этого нужно пересобрать конфиг Grub 2 посредством <strong>grub2-mkconfig</strong>.</p>
</div>
<div class="section" id="journal-current">
<span id="index-3"></span><span id="id5"></span><h2>Как мне посмотреть текущий журнал работы системы?<a class="headerlink" href="#journal-current" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы посмотреть журнал работы системы с момента загрузки, нужно выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b
</pre></div>
</div>
<p>Чтобы посмотреть только журнал работы ядра (аналог dmesg):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -k
</pre></div>
</div>
</div>
<div class="section" id="journal-history">
<span id="index-4"></span><span id="id6"></span><h2>Как мне посмотреть журналы с прошлых загрузок?<a class="headerlink" href="#journal-history" title="Ссылка на этот заголовок">¶</a></h2>
<p>Вывести список всех загрузок:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl --list-boots
</pre></div>
</div>
<p>Вывести содержимое журнала загрузки с идентификатором <strong>X</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b -X
</pre></div>
</div>
</div>
<div class="section" id="journal-tofile">
<span id="index-5"></span><span id="id7"></span><h2>Как мне выгрузить журнал в файл?<a class="headerlink" href="#journal-tofile" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо перенаправить поток стандартного вывода в файл:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b &gt; ~/abc.txt
</pre></div>
</div>
<p>Также можно воспользоваться утилитой fpaste для автоматической загрузки файла на сервис <a class="reference external" href="https://paste.fedoraproject.org/">fpaste.org</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl -b <span class="p">|</span> fpaste
</pre></div>
</div>
<p>При успешном выполнении будет создана ссылка для быстрого доступа.</p>
</div>
<div class="section" id="backup-system">
<span id="index-6"></span><span id="id8"></span><h2>Можно ли делать резервную копию корневого раздела работающей системы?<a class="headerlink" href="#backup-system" title="Ссылка на этот заголовок">¶</a></h2>
<p>Настоятельно не рекомендуется из-за множества работающих виртуальных файловых систем и псевдофайлов в <strong>/sys</strong>, <strong>/dev</strong>, <strong>/proc</strong> и т.д.</p>
</div>
<div class="section" id="backup-home">
<span id="index-7"></span><span id="id9"></span><h2>Как сделать копию домашнего каталога?<a class="headerlink" href="#backup-home" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/09/03/avtomatiziruem-rezervnoe-kopirovanie-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="backup-create">
<span id="index-8"></span><span id="id11"></span><h2>Как лучше всего делать резервную копию корневого раздела?<a class="headerlink" href="#backup-create" title="Ссылка на этот заголовок">¶</a></h2>
<p>Необходимо загрузиться с LiveCD или LiveUSB, смонтировать раздел с корневой файловой системой и выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo tar --one-file-system --selinux <span class="se">\</span>
--exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$bdir</span><span class="s2">/tmp/*&quot;</span> <span class="se">\</span>
--exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$bdir</span><span class="s2">/var/tmp/*&quot;</span> <span class="se">\</span>
-cvJpf /путь/к/бэкапу.tar.xz -C /путь/к/корню .
</pre></div>
</div>
</div>
<div class="section" id="chroot-liveusb">
<span id="chroot"></span><span id="index-9"></span><h2>Как сделать chroot в установленную систему с LiveUSB?<a class="headerlink" href="#chroot-liveusb" title="Ссылка на этот заголовок">¶</a></h2>
<p>Загружаемся с LiveCD/USB и запускаем эмулятор терминала или переходим в виртуальную консоль (особой разницы не имеет).</p>
<p>Для начала создадим каталог для точки монтирования:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkdir /media/fedora
</pre></div>
</div>
<p>Смонтируем корневой раздел установленной ОС:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mount -t ext4 /dev/sda1 /media/fedora
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> - раздел, на котором установлена ОС, а <strong>ext4</strong> - его файловая система. Внесём соответствующие правки если это не так.</p>
<p>Переходим в каталог с корневой ФС и монтируем ряд необходимых для работы окружения виртуальных ФС:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /media/fedora
sudo mount -t proc /proc proc
sudo mount --rbind /sys sys
sudo mount --make-rslave sys
sudo mount --rbind /dev dev
sudo mount --make-rslave dev
sudo mount -t tmpfs tmpfs tmp
</pre></div>
</div>
<p>Теперь выполняем вход в chroot:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chroot /media/fedora
</pre></div>
</div>
<p>Выполняем нужные действия, а по окончании завершаем работу chroot окружения:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">logout</span>
</pre></div>
</div>
<p>Отмонтируем раздел:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo umount /media/fedora
</pre></div>
</div>
</div>
<div class="section" id="initrd">
<span id="initrd-rebuild"></span><span id="index-10"></span><h2>Как мне пересобрать образ initrd?<a class="headerlink" href="#initrd" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для пересборки образа initrd следует выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dracut -f
</pre></div>
</div>
</div>
<div class="section" id="grub-2">
<span id="grub-reinstall"></span><span id="index-11"></span><h2>Как мне переустановить Grub 2?<a class="headerlink" href="#grub-2" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://fedoraproject.org/wiki/GRUB_2">здесь</a>.</p>
</div>
<div class="section" id="grub-rebuild">
<span id="index-12"></span><span id="id13"></span><h2>Как пересобрать конфиг Grub 2?<a class="headerlink" href="#grub-rebuild" title="Ссылка на этот заголовок">¶</a></h2>
<p>Пересборка конфига Grub 2 для legacy конфигураций:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo grub2-mkconfig -o /boot/grub2/grub.cfg
</pre></div>
</div>
<p>Пересборка конфигра Grub 2 для UEFI конфигураций:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo grub2-mkconfig -o /boot/efi/EFI/fedora/grub.cfg
</pre></div>
</div>
</div>
<div class="section" id="ups-fedora">
<span id="configure-ups"></span><span id="index-13"></span><h2>Как настроить ИБП (UPS) в Fedora?<a class="headerlink" href="#ups-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2012/10/01/podnimaem-nut-v-linux.html">здесь</a>.</p>
</div>
<div class="section" id="ssh">
<span id="ssh-keys-error"></span><span id="index-14"></span><h2>При использовании SSH появляется ошибка доступа к ключам. Как исправить?<a class="headerlink" href="#ssh" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/07/31/reshaem-problemu-s-ssh-klyuchami-v-fedora-24.html">здесь</a>.</p>
</div>
<div class="section" id="slow-shutdown">
<span id="index-15"></span><span id="id16"></span><h2>Система медленно завершает работу. Можно ли это ускорить?<a class="headerlink" href="#slow-shutdown" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/08/08/uskoryaem-zavershenie-raboty-fedora-24.html">здесь</a>.</p>
</div>
<div class="section" id="journald-limit">
<span id="index-16"></span><span id="id18"></span><h2>Системные журналы занимают слишком много места. Как их ограничить?<a class="headerlink" href="#journald-limit" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/08/24/ogranichivaem-sistemnye-zhurnaly-v-fedora-24.html">здесь</a>.</p>
</div>
<div class="section" id="firewalld-port-forwarding">
<span id="index-17"></span><span id="id20"></span><h2>Как пробросить локальный порт на удалённый хост?<a class="headerlink" href="#firewalld-port-forwarding" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/05/23/probrasyvaem-lokalnyj-port-na-udalyonnyj-xost.html">здесь</a>.</p>
</div>
<div class="section" id="openvpn-fedora">
<span id="using-openvpn"></span><span id="index-18"></span><h2>Как поднять OpenVPN сервер в Fedora?<a class="headerlink" href="#openvpn-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/07/24/podnimaem-ovn-server-na-fedora.html">здесь</a>. В данной статье вместо <strong>ovn</strong> следует использовать <strong>openvpn</strong> во всех путях и именах юнитов.</p>
</div>
<div class="section" id="systemd">
<span id="systemd-info"></span><span id="index-19"></span><h2>Что такое systemd и как с ним работать?<a class="headerlink" href="#systemd" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/11/05/upravlyaem-systemd-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="libcurl-gnutls-so-4">
<span id="libcurl-workaround"></span><span id="index-20"></span><h2>Как решить проблему с отсутствием библиотеки libcurl-gnutls.so.4?<a class="headerlink" href="#libcurl-gnutls-so-4" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2018/04/03/reshaem-problemu-otsutstviya-libcurl-gnutls-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="matrix-fedora">
<span id="matrix-server"></span><span id="index-21"></span><h2>Как поднять свой сервер Matrix в Fedora?<a class="headerlink" href="#matrix-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2018/04/15/podnimaem-sobstvennyj-matrix-server-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="firefox">
<span id="firefox-hwaccel"></span><span id="index-22"></span><h2>Как активировать аппаратное ускорение в браузере Firefox?<a class="headerlink" href="#firefox" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для активации аппаратного ускорения рендеринга страниц в Mozilla Firefox на поддерживаемых драйверах необходимо открыть модуль конфигурации <strong>about:config</strong> и исправить значения следующих переменных (при отсутствии создать):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>layers.acceleration.force-enabled = true
layers.offmainthreadcomposition.enabled = true
webgl.force-enabled = true
gfx.xrender.enabled = true
</pre></div>
</div>
<p>Изменения вступят в силу при следующем запуске браузера.</p>
<p>Внимание! Это не затрагивает аппаратное декодирование мультимедиа средствами видеоускорителя, которое в настоящее время не поддерживается ни в Firefox, ни в Chrome на ОС Linux.</p>
</div>
<div class="section" id="debug-application">
<span id="index-23"></span><span id="id26"></span><h2>Приложение падает. Как мне его отладить?<a class="headerlink" href="#debug-application" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для начала рекомендуется (хотя и не обязательно) установить отладочную информацию для данного пакета:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf debuginfo-install foo-bar
</pre></div>
</div>
<p>После завершения процесса отладки символы можно снова удалить.</p>
<p>Чтобы получить бэктрейс падения, нужно выполнить в терминале:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gdb /usr/bin/foo-bar <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> tee ~/backtrace.log
</pre></div>
</div>
<p>Далее в интерактивной консоли отладчика ввести: <strong>handle SIGPIPE nostop noprint</strong> и затем <strong>run</strong>, дождаться сегфолта и выполнить <strong>bt full</strong> для получения бэктрейса. Теперь можно прописать <strong>quit</strong> для выхода из режима отладки.</p>
<p>Далее получившийся файл <strong>~/backtrace.log</strong> следует загрузить на любой сервис размещения текстовых файлов.</p>
<p>Также рекомендуется ещё сделать трассировку приложения до момента падения:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>strace -o ~/trace.log /usr/bin/foo-bar
</pre></div>
</div>
<p>Полученный файл <strong>~/trace.log</strong> также следует загрузить на сервис.</p>
</div>
<div class="section" id="drop-fs-caches">
<span id="index-24"></span><span id="id27"></span><h2>Как очистить кэши и буферы всех файловых систем?<a class="headerlink" href="#drop-fs-caches" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы очистить кэши и буферы нужно выполнить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sync <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="m">3</span> &gt; /proc/sys/vm/drop_caches <span class="o">&amp;&amp;</span> sync
</pre></div>
</div>
</div>
<div class="section" id="mp3">
<span id="convert-multiple-files"></span><span id="index-25"></span><h2>Как конвертировать множество файлов в mp3 из текущего каталога?<a class="headerlink" href="#mp3" title="Ссылка на этот заголовок">¶</a></h2>
<p>Конвертируем все файлы с маской *.ogg в mp3 в текущем каталоге:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>find . -maxdepth <span class="m">1</span> -type f -name <span class="s2">&quot;*.ogg&quot;</span> -exec ffmpeg -i <span class="s2">&quot;{}&quot;</span> -acodec mp3 -ab 192k <span class="s2">&quot;</span><span class="k">$(</span>basename <span class="o">{}</span><span class="k">)</span><span class="s2">.mp3&quot;</span> <span class="se">\;</span>
</pre></div>
</div>
</div>
<div class="section" id="utc">
<span id="system-time-utc"></span><span id="index-26"></span><h2>Как настроить системные часы в UTC или локального времени и наоборот?<a class="headerlink" href="#utc" title="Ссылка на этот заголовок">¶</a></h2>
<p>Переключение аппаратных часов компьютера в UTC из localtime:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo timedatectl set-local-rtc no
</pre></div>
</div>
<p>Переключение аппаратных часов компьютера в localtime из UTC:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo timedatectl set-local-rtc yes
</pre></div>
</div>
</div>
<div class="section" id="fedora-windows">
<span id="windows-utc"></span><span id="index-27"></span><h2>У меня в дуалбуте с Fedora установлена Windows и часы постоянно сбиваются. В чём дело?<a class="headerlink" href="#fedora-windows" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы такого не происходило, обе операционные системы должны хранить время в формате UTC. Для этого в Windows нужно применить следующий файл реестра:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]
&quot;RealTimeIsUniversal&quot;=dword:00000001
</pre></div>
</div>
</div>
<div class="section" id="driver-disable">
<span id="index-28"></span><span id="id28"></span><h2>Как можно навсегда отключить определённый драйвер?<a class="headerlink" href="#driver-disable" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы навсегда отключить какой-то драйвер в Linux, необходимо создать файл в каталоге <strong>/etc/modprobe.d</strong> с любым именем, например <strong>disable-nv.conf</strong>, и примерно таким содержанием:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>install nouveau /bin/false
</pre></div>
</div>
<p>Здесь вместо <strong>nouveau</strong> нужно указать реально используемые устройством драйверы.</p>
<p>Полный список загруженных драйверов можно получить так:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lspci -nnk
</pre></div>
</div>
<p>Теперь необходимо пересобрать inird образ:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dracut --force
</pre></div>
</div>
<p>Чтобы отменить действие, достаточно удалить созданный файл и снова пересобрать initrd.</p>
</div>
<div class="section" id="fedora">
<span id="simple-web-server"></span><span id="index-29"></span><h2>Как запустить простейший веб-сервер в Fedora?<a class="headerlink" href="#fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для запуска простейшего веб-сервера можно использовать Python и модуль, входящий в состав базового пакета:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m http.server <span class="m">8080</span>
</pre></div>
</div>
<p>Веб-сервер будет запущен на порту <strong>8080</strong>. В качестве webroot будет использоваться текущий рабочий каталог.</p>
</div>
<div class="section" id="kde-gtk">
<span id="double-click-speed"></span><span id="index-30"></span><h2>Я использую KDE. Как мне настроить скорость двойного клика в GTK приложениях?<a class="headerlink" href="#kde-gtk" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для настройки GTK 2 приложений необходимо открыть файл <strong>~/.gtkrc-2.0</strong> в любом текстовом редакторе (если он отсутствует — создать), затем прописать в самом конце:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gtk-double-click-time=1000
</pre></div>
</div>
<p>Для GTK 3 нужно редактировать <strong>~/.config/gtk-3.0/settings.ini</strong>. В нём следует прописать то же самое:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gtk-double-click-time=1000
</pre></div>
</div>
<p>Здесь 1000 — время в миллисекундах до активации двойного клика. Документация с подробным описанием всех переменных данных файлов конфигурации <a class="reference external" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html">здесь</a>.</p>
</div>
<div class="section" id="block-screen">
<span id="index-31"></span><span id="id30"></span><h2>Возможно ли заблокировать экран из командной строки?<a class="headerlink" href="#block-screen" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>loginctl lock-session
</pre></div>
</div>
</div>
<div class="section" id="change-hostname">
<span id="index-32"></span><span id="id31"></span><h2>Как изменить имя хоста?<a class="headerlink" href="#change-hostname" title="Ссылка на этот заголовок">¶</a></h2>
<p>Изменение имени хоста возможно посредством <strong>hostnamectl</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hostnamectl set-hostname NEW
</pre></div>
</div>
<p>Здесь вместо <strong>NEW</strong> следует указать новое значение. Изменения вступят в силу немедленно.</p>
</div>
<div class="section" id="network-configuration">
<span id="index-33"></span><span id="id32"></span><h2>Как лучше настраивать сетевые подключения?<a class="headerlink" href="#network-configuration" title="Ссылка на этот заголовок">¶</a></h2>
<p>В Fedora для настройки сети используется Network Manager. Для работы с ним доступны как графические менеджеры (встроены в каждую DE), так и консольный <strong>nm-cli</strong>.</p>
</div>
<div class="section" id="bash">
<span id="bash-shell"></span><span id="index-34"></span><h2>Можно ли изменить приветствие Bash по умолчанию?<a class="headerlink" href="#bash" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, необходимо в пользовательский файл <strong>~/.bashrc</strong> добавить строку вида:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>export PS1=&quot;\[\e[33m\][\[\e[36m\]\u\[\e[0m\]@\[\e[31m\]\h\[\e[0m\] \[\e[32m\]\W\[\e[33m\]]\[\e[35m\]\$\[\e[0m\] &quot;
</pre></div>
</div>
<p>Существует удобный онлайн генератор таких строк <a class="reference external" href="http://bashrcgenerator.com/">здесь</a>.</p>
</div>
<div class="section" id="shell">
<span id="bash-title"></span><span id="index-35"></span><h2>Можно ли из shell скрипта менять название терминала?<a class="headerlink" href="#shell" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, при помощи <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8_ANSI">управляющих последовательностей</a>. Ими же можно менять цвет текста вывода и многое другое.</p>
</div>
<div class="section" id="configure-ntp">
<span id="index-36"></span><span id="id35"></span><h2>Как настроить синхронизацию времени?<a class="headerlink" href="#configure-ntp" title="Ссылка на этот заголовок">¶</a></h2>
<p>В Fedora для этой цели используется chronyd, который установлен и запущен по умолчанию.</p>
<p>Чтобы узнать включена ли синхронизация времени с NTP серверами, можно использовать утилиту <strong>timedatectl</strong>.</p>
<p>Если синхронизация отключена, нужно убедиться, что сервис chronyd активирован:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl <span class="nb">enable</span> chronyd.service
</pre></div>
</div>
<p>Получить список NTP серверов, с которыми осуществляется синхронизация, можно так:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chronyc sources
</pre></div>
</div>
</div>
<div class="section" id="systemd-analyze">
<span id="index-37"></span><span id="id36"></span><h2>Как узнать какой сервис замедляет загрузку системы?<a class="headerlink" href="#systemd-analyze" title="Ссылка на этот заголовок">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemd-analyze blame
</pre></div>
</div>
</div>
<div class="section" id="nvidia">
<span id="nvidia-encoding"></span><span id="index-38"></span><h2>Как ускорить кодирование видео с использованием видеокарт NVIDIA?<a class="headerlink" href="#nvidia" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для этого нужно установить ffmpeg, а также проприетарные драйверы NVIDIA из репозиториев RPM Fusion.</p>
<p>Использование NVENC:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ffmpeg -i input.mp4 -acodec aac -ac <span class="m">2</span> -ab 128k -vcodec h264_nvenc -profile high444p -pixel_format yuv444p -preset default output.mp4
</pre></div>
</div>
<p>Использование CUDA/CUVID:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ffmpeg -c:v h264_cuvid -i input.mp4 -c:v h264_nvenc -preset slow output.mkv
</pre></div>
</div>
<p>Здесь <strong>input.mp4</strong> — имя оригинального файла, который требуется перекодировать, а в <strong>output.mp4</strong> будет сохранён результат.</p>
<p>Больше информации можно найти <a class="reference external" href="https://trac.ffmpeg.org/wiki/HWAccelIntro">здесь</a>.</p>
</div>
<div class="section" id="lvm">
<span id="fs-check-lvm"></span><span id="index-39"></span><h2>Как мне проверить ФС в составе LVM?<a class="headerlink" href="#lvm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если файловая система была повреждена, необходимо запустить <strong>fsck</strong> и разрешить ему исправить её. При использовании настроек по умолчанию (LVM, ФС ext4) это делается так:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck -t ext4 /dev/mapper/fedora-root
fsck -t ext4 /dev/mapper/fedora-home
</pre></div>
</div>
<p>Если вместо ext4 применяется другая файловая система, необходимо указать её после параметра <strong>-t</strong>.</p>
</div>
<div class="section" id="fs-check-partitions">
<span id="index-40"></span><span id="id38"></span><h2>Как мне проверить ФС при использовании классических разделов?<a class="headerlink" href="#fs-check-partitions" title="Ссылка на этот заголовок">¶</a></h2>
<p>Если используется классическая схема с обычными разделами, то утилите <strong>fsck</strong> необходимо передавать соответствующее блочное устройство, например:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck -t ext4 /dev/sda2
fsck -t ext4 /dev/sda3
</pre></div>
</div>
<p>Если вместо <strong>ext4</strong> применяется другая файловая система, необходимо указать её после параметра <strong>-t</strong>. Также вместо <strong>/dev/sda2</strong> следует прописать соответствующее блочное устройство с повреждённой ФС.</p>
<p>Полный список доступных устройств хранения данных можно получить:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo fdisk -l
</pre></div>
</div>
</div>
<div class="section" id="fs-selection">
<span id="index-41"></span><span id="id39"></span><h2>Какую файловую систему рекомендуется использовать на Fedora?<a class="headerlink" href="#fs-selection" title="Ссылка на этот заголовок">¶</a></h2>
<p>По умолчанию применяется <a class="reference external" href="https://ru.wikipedia.org/wiki/Ext4">ext4</a>. На наш взгляд, это самая стабильная и популярная файловая система в настоящее время.</p>
<p>Для хранения больших объёмов данных можно использовать <a class="reference external" href="https://ru.wikipedia.org/wiki/XFS">XFS</a>.</p>
</div>
<div class="section" id="btrfs">
<span id="fs-btrfs"></span><span id="index-42"></span><h2>Что вы скажете о BTRFS?<a class="headerlink" href="#btrfs" title="Ссылка на этот заголовок">¶</a></h2>
<p>Мы настоятельно не рекомендуем её использовать. Данная ФС очень нестабильна и часто приводит к полной потере всех данных на устройстве без возможности восстановления даже в идеальных условиях (было множество случаев у пользователей нашего канала).</p>
</div>
<div class="section" id="kde-plasma-5">
<span id="window-borders"></span><span id="index-43"></span><h2>Как убрать рамки внутри окон в KDE Plasma 5?<a class="headerlink" href="#kde-plasma-5" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для этого следует открыть <strong>Меню KDE</strong> - <strong>Компьютер</strong> - <strong>Параметры системы</strong> - <strong>Оформление приложений</strong> - страница <strong>Стиль интерфейса</strong> - кнопка <strong>Настроить</strong> - вкладка <strong>Рамки</strong>, <strong>убрать все флажки</strong> из чекбоксов на данной странице и нажать кнопку <strong>OK</strong>.</p>
</div>
<div class="section" id="gnome-qt">
<span id="window-hidpi-qt"></span><span id="index-44"></span><h2>У меня в Gnome не работает масштабирование окон Qt приложений. Что делать?<a class="headerlink" href="#gnome-qt" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для активации автоматического масштабирования достаточно прописать в файле <strong>~/.bashrc</strong> следующие строки:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>export QT_AUTO_SCREEN_SCALE_FACTOR=1
export QT_SCALE_FACTOR=2
</pre></div>
</div>
<p>Переменная <strong>QT_AUTO_SCREEN_SCALE_FACTOR</strong> имеет тип boolean (значения <strong>1</strong> (включено) или <strong>0</strong> (выключено)) и управляет автоматическим масштабированием в зависимости от разрешения экрана.</p>
<p>Переменная <strong>QT_SCALE_FACTOR</strong> задаёт коэффициент масштабирования:</p>
<blockquote>
<div><ul class="simple">
<li><strong>1.5</strong> - 150%;</li>
<li><strong>1.75</strong> - 175%;</li>
<li><strong>2</strong> - 200%;</li>
<li><strong>2.5</strong> - 250%;</li>
<li><strong>3</strong> - 300%.</li>
</ul>
</div></blockquote>
<p>Более подробную информацию можно найти в <a class="reference external" href="https://doc.qt.io/qt-5/highdpi.html">документации Qt</a>.</p>
</div>
<div class="section" id="dlna">
<span id="dlna-server"></span><span id="index-45"></span><h2>Как поднять DLNA сервер в локальной сети?<a class="headerlink" href="#dlna" title="Ссылка на этот заголовок">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2018/09/08/podnimaem-dlna-server-v-fedora.html">здесь</a>.</p>
</div>
<div class="section" id="telegram-desktop-fedora">
<span id="telegram-fedora"></span><span id="index-46"></span><h2>Как лучше установить Telegram Desktop в Fedora?<a class="headerlink" href="#telegram-desktop-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Мы настоятельно рекомендуем устанавливать данный мессенджер исключительно из <a class="reference internal" href="package-manager.html#rd-repositories"><span class="std std-ref">репозиториев</span></a> RPM Fusion:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install telegram-desktop
</pre></div>
</div>
<p>Данная версия собрана и динамически слинкована с использованием исключительно штатных системных библиотек, доступных в репозиториях Fedora, а не давно устаревших и уязвимых версий из комплекта Ubuntu 14.04, как официальная.</p>
<p>Сборка Fedora поддерживает системные настройки тем, правильное сглаживание шрифтов (за счёт использование общесистемных настроек) и не имеет проблем со скоростью запуска.</p>
</div>
<div class="section" id="telegram-desktop">
<span id="telegram-cleanup"></span><span id="index-47"></span><h2>Ранее я устанавливал официальную версию Telegram Desktop. Как мне очистить её остатки?<a class="headerlink" href="#telegram-desktop" title="Ссылка на этот заголовок">¶</a></h2>
<p>Официальная версия с сайта создаёт ярлыки запуска и копирует ряд загруженных бинарных файлов в пользовательский домашний каталог. Избавимся от этого:</p>
<blockquote>
<div><ol class="arabic simple">
<li>удалим старый бинарник и модуль обновления официального клиента, а также их копии из <strong>~/.local/share/TelegramDesktop</strong> и <strong>~/.local/share/TelegramDesktop/tdata</strong>;</li>
<li>удалим ярлыки из <strong>~/.local/share/applications</strong>.</li>
</ol>
</div></blockquote>
<p>Теперь можно установить <a class="reference internal" href="#telegram-fedora"><span class="std std-ref">версию</span></a> из RPM Fusion.</p>
</div>
<div class="section" id="deduplication-memory">
<span id="index-48"></span><span id="id41"></span><h2>Возможна ли полная дедупликация оперативной памяти?<a class="headerlink" href="#deduplication-memory" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, дедупликация памяти <a class="reference external" href="https://www.ibm.com/developerworks/linux/library/l-kernel-shared-memory/index.html">поддерживается</a> в ядре Linux начиная с версии 2.6.32 модулем <a class="reference external" href="https://ru.wikipedia.org/wiki/KSM">KSM</a> и по умолчанию применяется лишь в системах виртуализации, например в KVM.</p>
</div>
<div class="section" id="deduplication-disk">
<span id="index-49"></span><span id="id43"></span><h2>Возможна ли полная дедупликация данных на дисках?<a class="headerlink" href="#deduplication-disk" title="Ссылка на этот заголовок">¶</a></h2>
<p>Полная автоматическая дедупликация данных на дисках <a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/Deduplication">поддерживается</a> лишь файловой системой <a class="reference internal" href="#fs-btrfs"><span class="std std-ref">BTRFS</span></a>.</p>
</div>
<div class="section" id="memory-compression">
<span id="index-50"></span><span id="id45"></span><h2>Можно ли включить сжатие оперативной памяти?<a class="headerlink" href="#memory-compression" title="Ссылка на этот заголовок">¶</a></h2>
<p>Да, в ядро Linux начиная с версии 3.14 по умолчанию входит модуль zram, который позволяет увеличить производительность системы посредством использования вместо дисковой подкачки виртуального устройства в оперативной памяти с активным сжатием.</p>
<p>Включение zram в Fedora:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl <span class="nb">enable</span> --now zram-swap
</pre></div>
</div>
<p>Отключение zram в Fedora:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl stop zram-swap
sudo systemctl disable zram-swap
</pre></div>
</div>
<p>После использования вышеуказанных команд рекомендуется выполнить перезагрузку системы.</p>
</div>
<div class="section" id="sddm">
<span id="sddm-disable-vkb"></span><span id="index-51"></span><h2>Как отключить виртуальную клавиатуру в SDDM?<a class="headerlink" href="#sddm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы отключить поддержку ввода с виртуальной экранной клавиатуры в менеджере входа в систему SDDM, откроем в текстовом редакторе файл <strong>/etc/sddm.conf</strong>, а затем найдём и удалим следующую строку:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>InputMethod=qtvirtualkeyboard
</pre></div>
</div>
<p>Если она отсутствует, создадим в блоке <strong>[General]</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>InputMethod=
</pre></div>
</div>
<p>Изменения вступят в силу при следующей загрузке системы.</p>
</div>
<div class="section" id="exfat-fedora">
<span id="fedora-exfat"></span><span id="index-52"></span><h2>Почему я не могу использовать файловую систему exFAT в Fedora?<a class="headerlink" href="#exfat-fedora" title="Ссылка на этот заголовок">¶</a></h2>
<p>Файловая система exFAT защищена множеством патентов Microsoft, поэтому она не может быть включена в ядро Linux и соответственно быть доступной в Fedora по умолчанию.</p>
<p>Для того, чтобы использовать её, необходимо установить пакет <strong>fuse-exfat</strong> из <a class="reference internal" href="package-manager.html#rd-repositories"><span class="std std-ref">репозитория</span></a> RPM Fusion:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install fuse fuse-exfat
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="security.html" title="предыдущая глава">Вопросы, связанные с безопасностью</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, EasyCoding Team and contributors.
      
    </div>

    

    
  </body>
</html>